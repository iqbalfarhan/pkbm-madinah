import{x as g,j as e}from"./app-qFQhIPfj.js";import{F as s}from"./form-control-C43Fa-8h.js";import{A as f,a as v}from"./avatar-DzjzHRvY.js";import{B as h}from"./button-Dc30JDkx.js";import{I as l}from"./input-W-BD1H4k.js";import{S as C,a as b,b as k,c as A,d as n}from"./select-xJOaQnvF.js";import{S as B,a as N,b as q,c as F,d as I,e as y,f as D,g as E}from"./sheet-BU1J2_RC.js";import{e as p}from"./utils-BWBJ8K_1.js";import{t as i}from"./index-CRIJ3ENp.js";import{C as P}from"./check-Bqw54lYF.js";import{X as R}from"./index-wTJl5XWM.js";/* empty css            */import"./label-CQRcOpoQ.js";import"./index-Bw8SDI74.js";import"./index-BT5rsthy.js";import"./index-C1e09cZr.js";import"./index-Dc6I8uLB.js";import"./index-B2E_XwLa.js";import"./index-Bb1vPB25.js";import"./index-D6sT7W7n.js";import"./index-Ba1dsq3f.js";import"./index-D2VxnTDL.js";import"./index-scJcWkm4.js";import"./index-DbUswL3C.js";import"./createLucideIcon-DbXaSBQE.js";const ie=({children:d,user:r,purpose:x})=>{const{data:t,setData:o,put:u,post:j,reset:S}=g({name:(r==null?void 0:r.name)??"",email:(r==null?void 0:r.email)??"",role:(r==null?void 0:r.role)??"",password:r?void 0:"password",photo:void 0}),m=()=>{x==="edit"?u(route("user.update",r==null?void 0:r.id),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil mengubah data user")},onError:a=>{i.error(p(a))}}):j(route("user.store"),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil menambahkan user baru"),S()},onError:a=>{i.error(p(a))}})};return e.jsxs(B,{children:[e.jsx(N,{asChild:!0,children:d}),e.jsxs(q,{children:[e.jsxs(F,{children:[e.jsx(I,{children:"Sheet title"}),e.jsx(y,{children:"Sheet description"})]}),e.jsx("form",{onSubmit:a=>{a.preventDefault(),m()},children:e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsx(s,{label:"Nama user",required:!0,children:e.jsx(l,{placeholder:"Nama lengkap user",value:t.name,onChange:a=>o("name",a.target.value)})}),e.jsx(s,{label:"Alamat email",required:!0,children:e.jsx(l,{type:"email",placeholder:"Nama lengkap user",value:t.email,onChange:a=>o("email",a.target.value)})}),e.jsx(s,{label:"Peran",required:!0,children:e.jsxs(C,{value:t.role,onValueChange:a=>o("role",a),children:[e.jsx(b,{children:e.jsx(k,{placeholder:"Pilih role"})}),e.jsxs(A,{children:[e.jsx(n,{value:"admin",children:"Admin sekolah"}),e.jsx(n,{value:"guru",children:"Guru pengajar"}),e.jsx(n,{value:"orangtua",children:"Orang tua"})]})]})}),e.jsx(s,{label:"Photo",required:!0,children:e.jsx(l,{type:"file",accept:"image/*",onChange:a=>{var c;return o("photo",(c=a.target.files)==null?void 0:c[0])}})}),t.photo&&e.jsx(f,{className:"size-10 rounded",children:e.jsx(v,{src:URL.createObjectURL(t.photo)})})]})}),e.jsxs(D,{children:[e.jsxs(h,{onClick:m,children:[e.jsx(P,{}),"Simpan"]}),e.jsx(E,{asChild:!0,children:e.jsxs(h,{variant:"outline",children:[e.jsx(R,{}),"Batal"]})})]})]})]})};export{ie as default};
