import{x as g,j as e}from"./app-CEqX5OKV.js";import{F as s}from"./form-control-DaSguoFJ.js";import{A as f,a as v}from"./avatar-X-VYyE96.js";import{B as c}from"./button-BhdbfTY-.js";import{I as l}from"./input-Bo5wmQJY.js";import{S as C,a as b,b as k,c as A,d as m}from"./select-skBIS5nb.js";import{S as B,a as N,b as q,c as F,d as I,e as y,f as D,g as E}from"./sheet-HTw6NRHz.js";import{e as h}from"./utils-B7jdVu7c.js";import{t as i}from"./index-bYU34USQ.js";import{C as P}from"./check-CIMhTAP3.js";import{X as R}from"./index-DVwVNXEn.js";/* empty css            */import"./label-1o9LftSV.js";import"./index-BX4Jewx8.js";import"./index-CSlmcHWT.js";import"./index-BRIHjyOI.js";import"./index-D91SjuVV.js";import"./index-6mUOpKNz.js";import"./index-B38XZ94m.js";import"./index-DWMnW1ET.js";import"./index-BdQq_4o_.js";import"./index-BPS-ATTH.js";import"./index-DFgyQQlO.js";import"./index-Cmx5kZ-T.js";import"./index-CX4vITLd.js";import"./index-WEMd66-2.js";import"./index-0nlx4Bk3.js";import"./index-C4WzRDPe.js";import"./createLucideIcon-BJaJk2Ff.js";const pe=({children:d,user:r,purpose:x})=>{const{data:t,setData:o,put:u,post:j,reset:S}=g({name:(r==null?void 0:r.name)??"",email:(r==null?void 0:r.email)??"",role:(r==null?void 0:r.role)??"",password:r?void 0:"password",photo:void 0}),n=()=>{x==="edit"?u(route("user.update",r==null?void 0:r.id),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil mengubah data user")},onError:a=>{i.error(h(a))}}):j(route("user.store"),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil menambahkan user baru"),S()},onError:a=>{i.error(h(a))}})};return e.jsxs(B,{children:[e.jsx(N,{asChild:!0,children:d}),e.jsxs(q,{children:[e.jsxs(F,{children:[e.jsx(I,{children:"Sheet title"}),e.jsx(y,{children:"Sheet description"})]}),e.jsx("form",{onSubmit:a=>{a.preventDefault(),n()},children:e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsx(s,{label:"Nama user",required:!0,children:e.jsx(l,{placeholder:"Nama lengkap user",value:t.name,onChange:a=>o("name",a.target.value)})}),e.jsx(s,{label:"Alamat email",required:!0,children:e.jsx(l,{type:"email",placeholder:"Nama lengkap user",value:t.email,onChange:a=>o("email",a.target.value)})}),e.jsx(s,{label:"Peran",required:!0,children:e.jsxs(C,{value:t.role,onValueChange:a=>o("role",a),children:[e.jsx(b,{children:e.jsx(k,{placeholder:"Pilih role"})}),e.jsxs(A,{children:[e.jsx(m,{value:"admin",children:"Admin sekolah"}),e.jsx(m,{value:"guru",children:"Guru pengajar"}),e.jsx(m,{value:"orangtua",children:"Orang tua"})]})]})}),e.jsx(s,{label:"Photo",required:!0,children:e.jsx(l,{type:"file",accept:"image/*",onChange:a=>{var p;return o("photo",(p=a.target.files)==null?void 0:p[0])}})}),t.photo&&e.jsx(f,{className:"size-10 rounded",children:e.jsx(v,{src:URL.createObjectURL(t.photo)})})]})}),e.jsxs(D,{children:[e.jsxs(c,{onClick:n,children:[e.jsx(P,{}),"Simpan"]}),e.jsx(E,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(R,{}),"Batal"]})})]})]})]})};export{pe as default};
