import{r as i,c as R}from"./app-CrwnOKEw.js";import{u as A}from"./index-lnce68An.js";import{u as v}from"./index-ePac9EtU.js";function D(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}var w=R[" useInsertionEffect ".trim().toString()]||A;function L({prop:n,defaultProp:e,onChange:t=()=>{},caller:o}){const[r,c,l]=T({defaultProp:e,onChange:t}),a=n!==void 0,m=a?n:r;{const u=i.useRef(n!==void 0);i.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,o])}const s=i.useCallback(u=>{var f;if(a){const d=g(u)?u(n):u;d!==n&&((f=l.current)==null||f.call(l,d))}else c(u)},[a,n,c,l]);return[m,s]}function T({defaultProp:n,onChange:e}){const[t,o]=i.useState(n),r=i.useRef(t),c=i.useRef(e);return w(()=>{c.current=e},[e]),i.useEffect(()=>{var l;r.current!==t&&((l=c.current)==null||l.call(c,t),r.current=t)},[t,r]),[t,o,c]}function g(n){return typeof n=="function"}function S(n,e){return i.useReducer((t,o)=>e[t][o]??t,n)}var E=n=>{const{present:e,children:t}=n,o=I(e),r=typeof t=="function"?t({present:o.isPresent}):i.Children.only(t),c=v(o.ref,U(r));return typeof t=="function"||o.isPresent?i.cloneElement(r,{ref:c}):null};E.displayName="Presence";function I(n){const[e,t]=i.useState(),o=i.useRef(null),r=i.useRef(n),c=i.useRef("none"),l=n?"mounted":"unmounted",[a,m]=S(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const s=p(o.current);c.current=a==="mounted"?s:"none"},[a]),A(()=>{const s=o.current,u=r.current;if(u!==n){const d=c.current,N=p(s);n?m("MOUNT"):N==="none"||(s==null?void 0:s.display)==="none"?m("UNMOUNT"):m(u&&d!==N?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,m]),A(()=>{if(e){let s;const u=e.ownerDocument.defaultView??window,f=N=>{const O=p(o.current).includes(N.animationName);if(N.target===e&&O&&(m("ANIMATION_END"),!r.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",s=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},d=N=>{N.target===e&&(c.current=p(o.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(s),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:i.useCallback(s=>{o.current=s?getComputedStyle(s):null,t(s)},[])}}function p(n){return(n==null?void 0:n.animationName)||"none"}function U(n){var o,r;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}export{E as P,D as c,L as u};
