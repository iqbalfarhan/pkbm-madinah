import{J as N,x as T,j as e}from"./app-CEqX5OKV.js";import{F as c}from"./form-control-DaSguoFJ.js";import{B as u}from"./button-BhdbfTY-.js";import{I as F}from"./input-Bo5wmQJY.js";import{S as x,a as S,b as g,c as f,d as b}from"./select-skBIS5nb.js";import{S as D,a as E,b as I,c as O,d as V,e as G,f as M,g as y}from"./sheet-HTw6NRHz.js";import{T as z}from"./textarea-lGQzzSO4.js";import{t as a}from"./index-bYU34USQ.js";import A from"./mapel-group-sheet-CT-LDkw2.js";import{C as H}from"./check-CIMhTAP3.js";import{X as J}from"./index-DVwVNXEn.js";/* empty css            */import"./utils-B7jdVu7c.js";import"./label-1o9LftSV.js";import"./index-BX4Jewx8.js";import"./index-CSlmcHWT.js";import"./index-BRIHjyOI.js";import"./index-DWMnW1ET.js";import"./index-BdQq_4o_.js";import"./index-BPS-ATTH.js";import"./index-D91SjuVV.js";import"./index-DFgyQQlO.js";import"./index-6mUOpKNz.js";import"./index-Cmx5kZ-T.js";import"./index-CX4vITLd.js";import"./index-WEMd66-2.js";import"./index-0nlx4Bk3.js";import"./index-C4WzRDPe.js";import"./createLucideIcon-BJaJk2Ff.js";import"./table-BqQZv3tm.js";import"./mapel-group-form-dialog-CszGKEi_.js";import"./dialog-D6ONB_-0.js";import"./square-pen-CDE9bY-w.js";import"./trash-2-BNeEn-b5.js";import"./plus-B9oH0E2r.js";const ve=({children:k,mapel:t,purpose:o})=>{var h,j;const m=N().props,v=m.mapelGroups??[],C=m.tingkats??[],{data:n,setData:l,put:_,post:p,reset:B}=T({name:(t==null?void 0:t.name)??"",description:(t==null?void 0:t.description)??"",tingkat_id:((h=t==null?void 0:t.tingkat)==null?void 0:h.id)??"",mapel_group_id:((j=t==null?void 0:t.mapel_group)==null?void 0:j.id)??""}),d=()=>{o==="create"?p(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran"),B()},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}}):o==="edit"?_(route("mapel.update",t==null?void 0:t.id),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}}):o==="duplicate"&&p(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}})};return e.jsxs(D,{children:[e.jsx(E,{asChild:!0,children:k}),e.jsxs(I,{children:[e.jsxs(O,{children:[e.jsxs(V,{className:"capitalize",children:[o," Sheet title"]}),e.jsx(G,{children:"Sheet description"})]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),d()},className:"space-y-6 px-4",children:[e.jsx(c,{label:"Nama mata pelajaran",children:e.jsx(F,{placeholder:"Nama mata pelajaran",value:n.name,onChange:r=>l("name",r.target.value)})}),e.jsx(c,{label:"Description",children:e.jsx(z,{placeholder:"Nama mata pelajaran",value:n.description,onChange:r=>l("description",r.target.value)})}),e.jsx(c,{label:"Group mata pelajaran",action:e.jsx(A,{children:e.jsx("span",{className:"text-xs underline",children:"Atur data"})}),children:e.jsxs(x,{value:n.mapel_group_id.toString(),onValueChange:r=>l("mapel_group_id",r),children:[e.jsx(S,{children:e.jsx(g,{placeholder:"Filter data"})}),e.jsx(f,{children:v.map(r=>e.jsx(b,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(c,{label:"Tingkat kelas",children:e.jsxs(x,{value:n.tingkat_id.toString(),onValueChange:r=>l("tingkat_id",r),children:[e.jsx(S,{children:e.jsx(g,{placeholder:"Pilih tingkat / kelas"})}),e.jsx(f,{children:C.map(r=>e.jsx(b,{value:r.id.toString(),children:r.label},r.id))})]})})]}),e.jsxs(M,{children:[e.jsxs(u,{onClick:d,children:[e.jsx(H,{}),"Simpan"]}),e.jsx(y,{asChild:!0,children:e.jsxs(u,{variant:"outline",children:[e.jsx(J,{}),"Batal"]})})]})]})]})};export{ve as default};
