import{j as e,J as u,t as l,r as f,S as _,Q as w}from"./app-DyQmic5P.js";import{H as M}from"./heading-BQ9RoAzJ.js";import{T as A}from"./sonner-DNVcgswO.js";import{S as C,a as S,b as P,c as D,d as k,e as j,f as b,u as L,g as B,h as $,A as U,i as I,j as z,k as T,T as H}from"./theme-toggler-BcVt5iwV.js";import{e as q}from"./use-can-4uP4Kdvn.js";import{u as F}from"./use-page-props-B7AgGzm3.js";import{c as d}from"./utils-BI5uPuvz.js";import{D as R,a as y,b as O,c as p,d as V,e as G,f as E}from"./dropdown-menu-DBygH3Zt.js";import{A as K,a as Q,b as J}from"./avatar-DX2Lngm0.js";import{c as t}from"./createLucideIcon-CQXC05XG.js";import{u as Z}from"./use-mobile-DkzKh0Qp.js";import{U as W}from"./user-plus-ektcmXra.js";import{S as X}from"./index-BEZJEt9U.js";import{C as Y}from"./chevron-right-C0B1u1xa.js";import ee from"./tahun-ajaran-list-dialog-BAG0XCOp.js";import{B as g}from"./button-KYFGB3zz.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],se=t("BookOpen",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],v=t("Book",re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ne=t("Calendar",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],oe=t("ChevronsUpDown",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ce=t("CircleUserRound",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],he=t("Database",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ue=t("Folder",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xe=t("Key",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ke=t("LayoutGrid",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],be=t("List",je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ge=t("LogOut",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x=t("Settings",ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_e=t("Target",Ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Me=t("TriangleAlert",we);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Ce=t("UserCog",Ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Pe=t("UsersRound",Se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Le=t("Users",De);function Be({variant:s="header",children:a,...r}){return s==="sidebar"?e.jsx(C,{...r,children:a}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...r,children:a})}function $e({children:s,variant:a="header"}){const r=u().props.sidebarOpen;return a==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:s}):e.jsx(S,{defaultOpen:r,children:s})}function m({items:s=[],label:a,className:r,showIf:i}){const{permissions:o}=F().auth;if(i===!1)return null;const c=s.map(n=>n.permission_name).filter(n=>!!n);return c.length===0||c.some(n=>o.includes(n))?e.jsxs(P,{className:d(r),children:[a&&e.jsx(D,{children:a}),e.jsx(k,{children:s.map(n=>n.permission_name&&q(o,n.permission_name)?e.jsx(j,{children:e.jsx(b,{asChild:!0,isActive:n.isActive,tooltip:{children:n.title},children:e.jsxs(l,{href:n.href,preserveScroll:!0,children:[n.icon&&e.jsx(n.icon,{}),e.jsx("span",{children:n.title})]})})},n.title):null)})]}):null}function Ue(){return f.useCallback(s=>{const a=s.trim().split(" ");if(a.length===0)return"";if(a.length===1)return a[0].charAt(0).toUpperCase();const r=a[0].charAt(0),i=a[a.length-1].charAt(0);return`${r}${i}`.toUpperCase()},[])}function N({user:s,showEmail:a=!1}){const r=Ue();return e.jsxs(e.Fragment,{children:[e.jsxs(K,{className:"h-8 w-8 overflow-hidden rounded-full",children:[e.jsx(Q,{src:s.avatar,alt:s.name}),e.jsx(J,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:r(s.name)})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:s.name}),a&&e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:s.email})]})]})}function Ie(){return f.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function ze({user:s}){const a=Ie(),r=()=>{a(),_.flushAll()};return e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"p-0 font-normal",children:e.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:e.jsx(N,{user:s,showEmail:!0})})}),e.jsx(y,{}),e.jsxs(O,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(l,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:a,children:[e.jsx(x,{className:"mr-2"}),"Update Profile"]})}),e.jsx(p,{asChild:!0,children:e.jsxs(l,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:a,children:[e.jsx(x,{className:"mr-2"}),"Pengaturan sekolah"]})})]}),e.jsx(y,{}),e.jsx(p,{asChild:!0,children:e.jsxs(l,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:r,children:[e.jsx(ge,{className:"mr-2"}),"Log out"]})})]})}function Te(){const{auth:s}=u().props,{state:a}=L(),r=Z();return e.jsx(k,{children:e.jsx(j,{children:e.jsxs(V,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(b,{size:"lg",className:"group data-[state=open]:bg-sidebar-accent",children:[e.jsx(N,{user:s.user}),e.jsx(oe,{className:"ml-auto size-4"})]})}),e.jsx(E,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:r?"bottom":a==="collapsed"?"left":"bottom",children:e.jsx(ze,{user:s.user})})]})})})}function He(){const{roles:s,kelas:a}=u().props.auth,r=[{title:"Dashboard",href:route("dashboard"),icon:ke,permission_name:"dashboard"},{title:"Buku panduan",href:route("dokumentasi"),icon:se,permission_name:"documentation"},{title:"Rapor siswa",href:route("rapor.index"),icon:v,permission_name:"menampilkan list rapor"}],i=[{title:"Pendaftaran siswa",href:route("ppdb.create"),icon:W,permission_name:"menambahkan ppdb baru"},{title:"Pengaturan PPDB",href:route("ppdb.index"),icon:Ce,permission_name:"menampilkan list ppdb"}],o=[{title:"Pengaturan kelas",href:route("kelas.index"),icon:be,permission_name:"menampilkan list kelas"},{title:"Mata pelajaran",href:route("mapel.index"),icon:v,permission_name:"menampilkan list mata pelajaran"},{title:"Ekstrakulikuler",href:route("ekskul.index"),icon:_e,permission_name:"menampilkan list ekskul"},{title:"Data Pengguna",href:route("user.index"),icon:Le,permission_name:"menampilkan list user"},{title:"Tenaga pendidik",href:route("guru.index"),icon:Pe,permission_name:"menampilkan list guru"},{title:"Data Siswa",href:route("siswa.index"),icon:ce,permission_name:"menampilkan list siswa"}],c=[{title:"Role & permissions",href:route("role.index"),icon:xe,permission_name:"mengatur role permission"},{title:"Adminer database",href:route("role.index"),icon:he,permission_name:"membuka database"},{title:"Pengaturan",href:route("settings.index"),icon:x,permission_name:"edit sekolah"}];return e.jsxs(B,{collapsible:"icon",variant:"sidebar",children:[e.jsx($,{children:e.jsx(k,{children:e.jsx(j,{children:e.jsx(b,{size:"lg",asChild:!0,children:e.jsx(l,{href:"/dashboard",prefetch:!0,children:e.jsx(U,{})})})})})}),e.jsxs(I,{children:[e.jsx(m,{items:r,label:"Dashboard"}),e.jsx(m,{items:a==null?void 0:a.map(h=>({title:`Peng. ${h.name}`,href:route("kelas.show",h.id),icon:ue,permission_name:"menampilkan detail kelas"})),label:"Menu walikelas",showIf:s.includes("walikelas")}),e.jsx(m,{items:o,label:"Master Data"}),e.jsx(m,{items:i,label:"PPDB"}),e.jsx(m,{items:c,label:"Menu Superadmin"})]}),e.jsx(z,{children:e.jsx(Te,{})})]})}function qe({...s}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...s})}function Fe({className:s,...a}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:d("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",s),...a})}function Re({className:s,...a}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:d("inline-flex items-center gap-1.5",s),...a})}function Oe({asChild:s,className:a,...r}){const i=s?X:"a";return e.jsx(i,{"data-slot":"breadcrumb-link",className:d("hover:text-foreground transition-colors",a),...r})}function Ve({className:s,...a}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:d("text-foreground font-normal",s),...a})}function Ge({children:s,className:a,...r}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:d("[&>svg]:size-3.5",a),...r,children:s??e.jsx(Y,{})})}function Ee({breadcrumbs:s}){return e.jsx(e.Fragment,{children:s.length>0&&e.jsx(qe,{children:e.jsx(Fe,{children:s.map((a,r)=>{const i=r===s.length-1;return e.jsxs(f.Fragment,{children:[e.jsx(Re,{children:i?e.jsx(Ve,{children:a.title}):e.jsx(Oe,{asChild:!0,children:e.jsx(l,{href:a.href,children:a.title})})}),!i&&e.jsx(Ge,{})]},r)})})})})}function Ke({breadcrumbs:s=[]}){const{active_ta:a}=u().props;return e.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx(T,{className:"-ml-1"}),e.jsx(Ee,{breadcrumbs:s})]}),e.jsx(H,{}),e.jsx("div",{className:"hidden items-center gap-2 md:flex",children:a?e.jsx(ee,{children:e.jsxs(g,{variant:"outline",children:[e.jsx(ne,{}),"TA ",a.name," ",a.semester]})}):e.jsx(g,{variant:"destructive",asChild:!0,children:e.jsxs(l,{href:route("tahunajaran.index"),children:[e.jsx(Me,{}),"Belum ada tahun ajaran aktif"]})})})]})}function Qe({children:s,breadcrumbs:a=[]}){return e.jsxs($e,{variant:"sidebar",children:[e.jsx(He,{}),e.jsxs(Be,{variant:"sidebar",children:[e.jsx(Ke,{breadcrumbs:a}),s]})]})}const ma=({children:s,breadcrumbs:a=[{title:"Dashboard",href:route("dashboard")}],title:r="Page title",description:i="Page title description",actions:o,withHeading:c=!0,...h})=>e.jsxs(Qe,{breadcrumbs:a,...h,children:[e.jsx(w,{title:r}),e.jsxs("div",{className:"space-y-6 p-6",children:[c&&e.jsxs("div",{className:"flex flex-col items-start justify-between md:flex-row",children:[e.jsx(M,{title:r,description:i}),o&&e.jsx("div",{className:"flex items-center space-x-2",children:o})]}),s]}),e.jsx(A,{position:"top-center"})]});export{ma as A,v as B,ue as F,xe as K,x as S,_e as T};
