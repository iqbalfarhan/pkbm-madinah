import{J as P,x as A,j as r}from"./app-DyQmic5P.js";import{F as p}from"./form-control-zigsEFKN.js";import{A as N,a as R}from"./avatar-DX2Lngm0.js";import{B as v}from"./button-KYFGB3zz.js";import{D as y,a as B,b as I,c as T,d as V,e as F,f as E,g as J}from"./dialog-DVSMtDqd.js";import{S as d,a as x,b as h,c as j,d as s}from"./select-Bvf70V8n.js";import{b as k}from"./enums--kYuJKnO.js";import{e as z}from"./utils-BI5uPuvz.js";import H from"./siswa-item-card-C9PMySP2.js";import{t as D}from"./index-BoI0RY--.js";import{X as L}from"./index-CFh_y-PJ.js";import{A as M}from"./arrow-right-C0pNgsfV.js";/* empty css            */import"./label-B22YYfhP.js";import"./index-CVS6TplD.js";import"./index-BOgKn36R.js";import"./index-BEZJEt9U.js";import"./index-CSAgNcUl.js";import"./index-Cv_ILaK-.js";import"./index-BFjcjlDN.js";import"./index-CvnMytdW.js";import"./index-BdQq_4o_.js";import"./index-9eS-XqF0.js";import"./index-BkY1HIUM.js";import"./index-O6iSKhiU.js";import"./index-bAxwBRag.js";import"./index-BvLgG7PI.js";import"./index-DEUcpwGC.js";import"./index-CItOA2Np.js";import"./index-Bm0c8-C3.js";import"./chevron-down-Bl84Egnj.js";import"./createLucideIcon-CQXC05XG.js";import"./check-hihlE-wY.js";import"./card-sIRKO1vy.js";const Cr=({children:S,siswa:i,tahunajaran:o,jenisrapor:C})=>{var g,f;const t=P().props,a=t.siswas??[],l=t.tahunajarans,n=t.active_ta,{data:m,setData:c,post:b,reset:_}=A({siswa_id:(i==null?void 0:i.id)??"",tahunajaran_id:(o==null?void 0:o.id)??(n==null?void 0:n.id),jenis:C??""}),u=()=>{b(route("rapor.store"),{preserveScroll:!0,onSuccess:()=>{D.success("Berhasil membuat rapor"),_()},onError:e=>D.error(z(e))})};return r.jsxs(y,{children:[r.jsx(B,{asChild:!0,children:S}),r.jsxs(I,{children:[r.jsxs(T,{children:[r.jsx(V,{children:"Dialog title"}),r.jsx(F,{children:"Dialog description"})]}),r.jsxs("form",{className:"space-y-6 py-4",onSubmit:e=>{e.preventDefault(),u()},children:[i?r.jsx(H,{siswa:i}):r.jsx(p,{label:"Pilih siswa",children:r.jsxs(d,{value:m.siswa_id.toString(),onValueChange:e=>c("siswa_id",e),children:[r.jsx(x,{children:r.jsx(h,{placeholder:"Pilih siswa"})}),r.jsx(j,{children:a==null?void 0:a.map(e=>r.jsxs(s,{value:e.id.toString(),className:"flex items-start gap-2 py-2",children:[r.jsx(N,{className:"size-6",children:r.jsx(R,{src:e.avatar})}),r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("p",{children:e.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.nisn})]})]},e.id))})]})}),r.jsx(p,{label:"Pilih Tahun ajaran",children:r.jsxs(d,{value:(g=m.tahunajaran_id)==null?void 0:g.toString(),onValueChange:e=>c("tahunajaran_id",parseInt(e)),children:[r.jsx(x,{children:r.jsx(h,{placeholder:"Pilih jenis rapor"})}),r.jsxs(j,{children:[r.jsx(s,{value:"null",children:"Â "}),l==null?void 0:l.map(e=>r.jsx(s,{value:e.id.toString(),children:e.label},e.id))]})]})}),r.jsx(p,{label:"Pilih Jenis rapor",children:r.jsxs(d,{value:m.jenis,onValueChange:e=>c("jenis",e),children:[r.jsx(x,{children:r.jsx(h,{placeholder:"Pilih jenis rapor"})}),r.jsx(j,{children:(f=k)==null?void 0:f.map(e=>r.jsx(s,{value:e,children:e},e))})]})})]}),r.jsxs(E,{children:[r.jsx(J,{asChild:!0,children:r.jsxs(v,{variant:"outline",children:[r.jsx(L,{}),"Batal"]})}),r.jsxs(v,{onClick:u,children:["Selanjutnya",r.jsx(M,{})]})]})]})]})};export{Cr as default};
