import{J as A,x as R,j as r}from"./app-gjtAn5El.js";import{F as d}from"./form-control-C5DpwnMZ.js";import{A as y,a as B}from"./avatar-Bt3aX9bp.js";import{B as S}from"./button-By04tjtr.js";import{D as I,a as N,b as T,c as V,d as F,e as k,f as E,g as J}from"./dialog-DGndaXLp.js";import{S as h,a as x,b as j,c as u,d as o}from"./select-DSe88Jj7.js";import{j as z}from"./enums-Cfr99xRN.js";import{e as H}from"./utils-DMfQtvov.js";import L from"./siswa-item-card-Bl90ifL4.js";import{t as v}from"./index-dz1GIDOc.js";import{X as M}from"./x-urWu1Yro.js";import{A as X}from"./arrow-right-q4Ib1jgn.js";/* empty css            */import"./label-CQT2szKQ.js";import"./index-BGrkkWQn.js";import"./index-D2y8B7B1.js";import"./index-DvkuFPqW.js";import"./index-C5BeI9rp.js";import"./index-BCWsKhRR.js";import"./index-LXLBVjJ3.js";import"./index-B26Os_Ix.js";import"./index-CvsYew9q.js";import"./index-DJU7MOx1.js";import"./index-Ds6vXjzw.js";import"./index-BdQq_4o_.js";import"./index-DAJp9f9j.js";import"./index-CG6E1-pS.js";import"./index-DB7pJufW.js";import"./index-C8i6XsBO.js";import"./index-MK6_u-ia.js";import"./index-CjpL7NZ4.js";import"./chevron-down-CEfrTvmX.js";import"./createLucideIcon-CZrFTrU_.js";import"./check-DMlgC_tD.js";import"./card-DKLrfEzB.js";import"./folder-VfI3PMER.js";import"./square-pen-B7taPjcQ.js";import"./trash-2-D1rAzIWN.js";const Rr=({children:C,siswa:i,tahunajaran:t,jenisrapor:b})=>{var f,D;const s=A().props,a=s.siswas??[],l=s.tahunajarans,n=s.active_ta,m=s.kelas,{data:p,setData:c,post:_,reset:P}=R({siswa_id:(i==null?void 0:i.id)??"",tahunajaran_id:(t==null?void 0:t.id)??(n==null?void 0:n.id),jenis:b??"",kelas_id:(m==null?void 0:m.id)??""}),g=()=>{_(route("rapor.store"),{preserveScroll:!0,onSuccess:()=>{v.success("Berhasil membuat rapor"),P()},onError:e=>v.error(H(e))})};return r.jsxs(I,{children:[r.jsx(N,{asChild:!0,children:C}),r.jsxs(T,{children:[r.jsxs(V,{children:[r.jsx(F,{children:"Dialog title"}),r.jsx(k,{children:"Dialog description"})]}),r.jsxs("form",{className:"space-y-6 py-4",onSubmit:e=>{e.preventDefault(),g()},children:[i?r.jsx(L,{siswa:i}):r.jsx(d,{label:"Pilih siswa",children:r.jsxs(h,{value:p.siswa_id.toString(),onValueChange:e=>c("siswa_id",e),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih siswa"})}),r.jsx(u,{children:a==null?void 0:a.map(e=>r.jsxs(o,{value:e.id.toString(),className:"flex items-start gap-2 py-2",children:[r.jsx(y,{className:"size-5",children:r.jsx(B,{src:e.avatar})}),r.jsx("p",{children:e.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.nisn})]},e.id))})]})}),r.jsx(d,{label:"Pilih Tahun ajaran",children:r.jsxs(h,{value:(f=p.tahunajaran_id)==null?void 0:f.toString(),onValueChange:e=>c("tahunajaran_id",parseInt(e)),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih jenis rapor"})}),r.jsxs(u,{children:[r.jsx(o,{value:"null",children:"Â "}),l==null?void 0:l.map(e=>r.jsx(o,{value:e.id.toString(),children:e.label},e.id))]})]})}),r.jsx(d,{label:"Pilih Jenis rapor",children:r.jsxs(h,{value:p.jenis,onValueChange:e=>c("jenis",e),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih jenis rapor"})}),r.jsx(u,{children:(D=z)==null?void 0:D.map(e=>r.jsx(o,{value:e,children:e},e))})]})})]}),r.jsxs(E,{children:[r.jsx(J,{asChild:!0,children:r.jsxs(S,{variant:"outline",children:[r.jsx(M,{}),"Batal"]})}),r.jsxs(S,{onClick:g,children:["Selanjutnya",r.jsx(X,{})]})]})]})]})};export{Rr as default};
