import{x as g,j as e}from"./app-C_1QaEND.js";import{F as s}from"./form-control-CTj0sGWP.js";import{A as f,a as v}from"./avatar-BNJH_xe6.js";import{B as c}from"./button-B2lzsw-X.js";import{I as l}from"./input-CRDO4Zat.js";import{S as C,a as b,b as k,c as A,d as m}from"./select-BstzDU-k.js";import{S as B,a as N,b as q,c as F,d as I,e as y,f as D,g as E}from"./sheet-47BUNF24.js";import{e as h}from"./utils-B7jdVu7c.js";import{t as i}from"./index-DR2UxfJS.js";import{C as P}from"./check-CGfJjz_K.js";import{X as R}from"./index-BCFW6Kod.js";/* empty css            */import"./label-DoGs06A9.js";import"./index-C3udMAHU.js";import"./index-CThAT5He.js";import"./index-B3rCU9_2.js";import"./index-Bz3kCzKP.js";import"./index-tUGgv-Dm.js";import"./index-CFvtQtCd.js";import"./index-DWMnW1ET.js";import"./index-BdQq_4o_.js";import"./index-HGW2Okdm.js";import"./index-DytOkAvP.js";import"./index-BiTSCZuU.js";import"./index-DhOVHwnk.js";import"./index-CiPPP_R-.js";import"./index-CsufJRxj.js";import"./index-DI1LbkvJ.js";import"./createLucideIcon-Ctsoe70q.js";const pe=({children:d,user:r,purpose:x})=>{const{data:t,setData:o,put:u,post:j,reset:S}=g({name:(r==null?void 0:r.name)??"",email:(r==null?void 0:r.email)??"",role:(r==null?void 0:r.role)??"",password:r?void 0:"password",photo:void 0}),n=()=>{x==="edit"?u(route("user.update",r==null?void 0:r.id),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil mengubah data user")},onError:a=>{i.error(h(a))}}):j(route("user.store"),{preserveScroll:!0,onSuccess:()=>{i.success("Berhasil menambahkan user baru"),S()},onError:a=>{i.error(h(a))}})};return e.jsxs(B,{children:[e.jsx(N,{asChild:!0,children:d}),e.jsxs(q,{children:[e.jsxs(F,{children:[e.jsx(I,{children:"Sheet title"}),e.jsx(y,{children:"Sheet description"})]}),e.jsx("form",{onSubmit:a=>{a.preventDefault(),n()},children:e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsx(s,{label:"Nama user",required:!0,children:e.jsx(l,{placeholder:"Nama lengkap user",value:t.name,onChange:a=>o("name",a.target.value)})}),e.jsx(s,{label:"Alamat email",required:!0,children:e.jsx(l,{type:"email",placeholder:"Nama lengkap user",value:t.email,onChange:a=>o("email",a.target.value)})}),e.jsx(s,{label:"Peran",required:!0,children:e.jsxs(C,{value:t.role,onValueChange:a=>o("role",a),children:[e.jsx(b,{children:e.jsx(k,{placeholder:"Pilih role"})}),e.jsxs(A,{children:[e.jsx(m,{value:"admin",children:"Admin sekolah"}),e.jsx(m,{value:"guru",children:"Guru pengajar"}),e.jsx(m,{value:"orangtua",children:"Orang tua"})]})]})}),e.jsx(s,{label:"Photo",required:!0,children:e.jsx(l,{type:"file",accept:"image/*",onChange:a=>{var p;return o("photo",(p=a.target.files)==null?void 0:p[0])}})}),t.photo&&e.jsx(f,{className:"size-10 rounded",children:e.jsx(v,{src:URL.createObjectURL(t.photo)})})]})}),e.jsxs(D,{children:[e.jsxs(c,{onClick:n,children:[e.jsx(P,{}),"Simpan"]}),e.jsx(E,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(R,{}),"Batal"]})})]})]})]})};export{pe as default};
