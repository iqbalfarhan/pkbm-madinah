import{x as j,j as e,S as x}from"./app-gjtAn5El.js";import{F as g}from"./form-control-C5DpwnMZ.js";import{B as b}from"./button-By04tjtr.js";import{C,a as v,d as U,e as c,b as m,c as S}from"./card-DKLrfEzB.js";import{I as y}from"./input-E0N1tJe0.js";import{e as n}from"./utils-DMfQtvov.js";import{t as s}from"./index-dz1GIDOc.js";import{U as M}from"./upload-DZ1NWCRI.js";/* empty css            */import"./label-CQT2szKQ.js";import"./index-BGrkkWQn.js";import"./index-D2y8B7B1.js";import"./index-DvkuFPqW.js";import"./index-B26Os_Ix.js";import"./createLucideIcon-CZrFTrU_.js";const _=({berita:i})=>{var t,d;const{data:o,setData:l,post:p,processing:u}=j({file:void 0}),f=()=>{p(route("berita.upload-media",i.id),{preserveScroll:!0,onSuccess:()=>{s.success("new media uploaded"),l("file",void 0)},onError:r=>s.error(n(r))})},h=r=>{x.delete(route("media.destroy",r),{preserveScroll:!0,onSuccess:()=>{s.success("Media deleted successfully")},onError:a=>s.error(n(a))})};return e.jsx("form",{action:"",onSubmit:r=>{r.preventDefault(),f()},children:e.jsxs(C,{className:"h-fit",children:[e.jsxs(v,{children:[e.jsx(U,{children:"Upload thumbnail"}),e.jsx(c,{children:"Pilih file gambar berita, maksimal 2MB dengan format .jpg, .jpeg, .png"})]}),e.jsx(m,{children:e.jsxs(g,{label:"Pilih file",children:[e.jsx(y,{type:"file",accept:"image/*",onChange:r=>{var a;return l("file",(a=r.target.files)==null?void 0:a[0])}}),o.file&&e.jsx("img",{src:URL.createObjectURL(o.file),alt:"thumbnail",className:"h-full w-full object-cover"})]})}),e.jsx(S,{children:e.jsxs(b,{type:"submit",disabled:u||!o.file,children:[e.jsx(M,{}),"Upload file"]})}),e.jsxs(m,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-3 gap-1",children:(t=i.media)==null?void 0:t.map((r,a)=>e.jsx("img",{src:r.original_url,className:"aspect-square w-full object-cover",onDoubleClick:()=>h(r.id)},a))}),e.jsxs(c,{children:[(d=i.media)==null?void 0:d.length," media yang diupload. double click untuk menghapus"]})]})]})})};export{_ as default};
