import{J as A,x as R,j as r}from"./app-DpfdW_r7.js";import{F as d}from"./form-control-D1mjSVkY.js";import{A as y,a as B}from"./avatar-BmS3oxRd.js";import{B as S}from"./button-DTT2fkdQ.js";import{D as I,a as N,b as T,c as V,d as F,e as k,f as E,g as J}from"./dialog-v1EtXj0r.js";import{S as h,a as x,b as j,c as u,d as o}from"./select-LnSn0gPA.js";import{j as z}from"./enums-CLZFyCUg.js";import{e as H}from"./utils-CuXvM_eT.js";import L from"./siswa-item-card-DLL_witz.js";import{t as v}from"./index-B-v_Mcin.js";import{X as M}from"./x-C3M5dEuO.js";import{A as X}from"./arrow-right-DNKML8rA.js";/* empty css            */import"./label-CwNgEzzR.js";import"./index-BUbDSQ73.js";import"./index-NApHEZtM.js";import"./index-Bn78W0G-.js";import"./index-Brdl_M0l.js";import"./index-Cs2VM941.js";import"./index-eCN9uh3H.js";import"./index-mHq7RGbL.js";import"./index-q-qQhBSK.js";import"./index-D9IwJIAp.js";import"./index-C7d_I9YW.js";import"./index-BdQq_4o_.js";import"./index-BWg45J-h.js";import"./index-Co76VJT-.js";import"./index-IJoEPwWj.js";import"./index-CAPfhsIC.js";import"./index-DGwOj2gT.js";import"./index-C91Jes3I.js";import"./chevron-down-CBu8Xe3p.js";import"./createLucideIcon-abM9t_Dn.js";import"./check-Qol8Cez_.js";import"./card-CHA020O5.js";import"./folder-ClgR4eJH.js";import"./square-pen-CuKycSN7.js";import"./trash-2-BsUn5BQh.js";const Rr=({children:C,siswa:i,tahunajaran:t,jenisrapor:b})=>{var f,D;const s=A().props,a=s.siswas??[],l=s.tahunajarans,n=s.active_ta,m=s.kelas,{data:p,setData:c,post:_,reset:P}=R({siswa_id:(i==null?void 0:i.id)??"",tahunajaran_id:(t==null?void 0:t.id)??(n==null?void 0:n.id),jenis:b??"",kelas_id:(m==null?void 0:m.id)??""}),g=()=>{_(route("rapor.store"),{preserveScroll:!0,onSuccess:()=>{v.success("Berhasil membuat rapor"),P()},onError:e=>v.error(H(e))})};return r.jsxs(I,{children:[r.jsx(N,{asChild:!0,children:C}),r.jsxs(T,{children:[r.jsxs(V,{children:[r.jsx(F,{children:"Dialog title"}),r.jsx(k,{children:"Dialog description"})]}),r.jsxs("form",{className:"space-y-6 py-4",onSubmit:e=>{e.preventDefault(),g()},children:[i?r.jsx(L,{siswa:i}):r.jsx(d,{label:"Pilih siswa",children:r.jsxs(h,{value:p.siswa_id.toString(),onValueChange:e=>c("siswa_id",e),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih siswa"})}),r.jsx(u,{children:a==null?void 0:a.map(e=>r.jsxs(o,{value:e.id.toString(),className:"flex items-start gap-2 py-2",children:[r.jsx(y,{className:"size-5",children:r.jsx(B,{src:e.avatar})}),r.jsx("p",{children:e.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.nisn})]},e.id))})]})}),r.jsx(d,{label:"Pilih Tahun ajaran",children:r.jsxs(h,{value:(f=p.tahunajaran_id)==null?void 0:f.toString(),onValueChange:e=>c("tahunajaran_id",parseInt(e)),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih jenis rapor"})}),r.jsxs(u,{children:[r.jsx(o,{value:"null",children:"Â "}),l==null?void 0:l.map(e=>r.jsx(o,{value:e.id.toString(),children:e.label},e.id))]})]})}),r.jsx(d,{label:"Pilih Jenis rapor",children:r.jsxs(h,{value:p.jenis,onValueChange:e=>c("jenis",e),children:[r.jsx(x,{children:r.jsx(j,{placeholder:"Pilih jenis rapor"})}),r.jsx(u,{children:(D=z)==null?void 0:D.map(e=>r.jsx(o,{value:e,children:e},e))})]})})]}),r.jsxs(E,{children:[r.jsx(J,{asChild:!0,children:r.jsxs(S,{variant:"outline",children:[r.jsx(M,{}),"Batal"]})}),r.jsxs(S,{onClick:g,children:["Selanjutnya",r.jsx(X,{})]})]})]})]})};export{Rr as default};
