import{x as g,j as e}from"./app-DFyXFmby.js";import{F as i}from"./form-control-BkdLFfTk.js";import{A as f,a as v}from"./avatar-XfXD5e5T.js";import{B as c}from"./button-baISD0v4.js";import{I as l}from"./input-Cr58_x-s.js";import{S as C,a as b,b as k,c as A,d as m}from"./select-B30Ykyjz.js";import{S as B,a as N,b as q,c as F,d as I,e as y,f as D,g as E}from"./sheet-CAOk3N41.js";import{e as h}from"./utils-B7jdVu7c.js";import{t as s}from"./index-DJjJAmS3.js";import{C as P}from"./check-BGAevvlX.js";import{X as R}from"./index-D8eV5wzY.js";/* empty css            */import"./label-BJxmpK4p.js";import"./index-9X3xE2ll.js";import"./index-avisG9MP.js";import"./index-prPnSJwQ.js";import"./index-CR_DG25V.js";import"./index-BGcZWTsE.js";import"./index-9DKwPg6i.js";import"./index-DWMnW1ET.js";import"./index-BdQq_4o_.js";import"./index-Bl8tFtZJ.js";import"./index-Bj9TP8jf.js";import"./index-BsBz-Adx.js";import"./index-CeBBGVnR.js";import"./index-BZCd8y5O.js";import"./index-DgvO-ONd.js";import"./index-wCoDaA13.js";import"./index-CKzuTrzN.js";import"./chevron-down-9T3VAHXB.js";import"./createLucideIcon-BBbY4K7E.js";const he=({children:d,user:r,purpose:x})=>{const{data:t,setData:o,put:u,post:j,reset:S}=g({name:(r==null?void 0:r.name)??"",email:(r==null?void 0:r.email)??"",role:(r==null?void 0:r.role)??"",password:r?void 0:"password",photo:void 0}),n=()=>{x==="edit"?u(route("user.update",r==null?void 0:r.id),{preserveScroll:!0,onSuccess:()=>{s.success("Berhasil mengubah data user")},onError:a=>{s.error(h(a))}}):j(route("user.store"),{preserveScroll:!0,onSuccess:()=>{s.success("Berhasil menambahkan user baru"),S()},onError:a=>{s.error(h(a))}})};return e.jsxs(B,{children:[e.jsx(N,{asChild:!0,children:d}),e.jsxs(q,{children:[e.jsxs(F,{children:[e.jsx(I,{children:"Sheet title"}),e.jsx(y,{children:"Sheet description"})]}),e.jsx("form",{onSubmit:a=>{a.preventDefault(),n()},children:e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsx(i,{label:"Nama user",required:!0,children:e.jsx(l,{placeholder:"Nama lengkap user",value:t.name,onChange:a=>o("name",a.target.value)})}),e.jsx(i,{label:"Alamat email",required:!0,children:e.jsx(l,{type:"email",placeholder:"Nama lengkap user",value:t.email,onChange:a=>o("email",a.target.value)})}),e.jsx(i,{label:"Peran",required:!0,children:e.jsxs(C,{value:t.role,onValueChange:a=>o("role",a),children:[e.jsx(b,{children:e.jsx(k,{placeholder:"Pilih role"})}),e.jsxs(A,{children:[e.jsx(m,{value:"admin",children:"Admin sekolah"}),e.jsx(m,{value:"guru",children:"Guru pengajar"}),e.jsx(m,{value:"orangtua",children:"Orang tua"})]})]})}),e.jsx(i,{label:"Photo",required:!0,children:e.jsx(l,{type:"file",accept:"image/*",onChange:a=>{var p;return o("photo",(p=a.target.files)==null?void 0:p[0])}})}),t.photo&&e.jsx(f,{className:"size-10 rounded",children:e.jsx(v,{src:URL.createObjectURL(t.photo)})})]})}),e.jsxs(D,{children:[e.jsxs(c,{onClick:n,children:[e.jsx(P,{}),"Simpan"]}),e.jsx(E,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(R,{}),"Batal"]})})]})]})]})};export{he as default};
