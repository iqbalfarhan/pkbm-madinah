import{J as N,x as T,j as e}from"./app-DFyXFmby.js";import{F as c}from"./form-control-BkdLFfTk.js";import{B as u}from"./button-baISD0v4.js";import{I as F}from"./input-Cr58_x-s.js";import{S as x,a as S,b as g,c as f,d as b}from"./select-B30Ykyjz.js";import{S as D,a as E,b as I,c as O,d as V,e as G,f as M,g as y}from"./sheet-CAOk3N41.js";import{T as z}from"./textarea-BuLS26WB.js";import{t as a}from"./index-DJjJAmS3.js";import A from"./mapel-group-sheet-F8KbVEew.js";import{C as H}from"./check-BGAevvlX.js";import{X as J}from"./index-D8eV5wzY.js";/* empty css            */import"./utils-B7jdVu7c.js";import"./label-BJxmpK4p.js";import"./index-9X3xE2ll.js";import"./index-avisG9MP.js";import"./index-prPnSJwQ.js";import"./index-DWMnW1ET.js";import"./index-BdQq_4o_.js";import"./index-Bl8tFtZJ.js";import"./index-CR_DG25V.js";import"./index-Bj9TP8jf.js";import"./index-BsBz-Adx.js";import"./index-CeBBGVnR.js";import"./index-BGcZWTsE.js";import"./index-BZCd8y5O.js";import"./index-DgvO-ONd.js";import"./index-wCoDaA13.js";import"./index-CKzuTrzN.js";import"./chevron-down-9T3VAHXB.js";import"./createLucideIcon-BBbY4K7E.js";import"./table-mHqxtZ8Y.js";import"./mapel-group-form-dialog-ToIdomsm.js";import"./dialog-GQKMFmB2.js";import"./square-pen-CWXv2pLb.js";import"./trash-2-mZD1DQ3H.js";import"./plus-DcDuQtVY.js";const _e=({children:k,mapel:t,purpose:o})=>{var h,j;const m=N().props,v=m.mapelGroups??[],C=m.tingkats??[],{data:n,setData:l,put:_,post:p,reset:B}=T({name:(t==null?void 0:t.name)??"",description:(t==null?void 0:t.description)??"",tingkat_id:((h=t==null?void 0:t.tingkat)==null?void 0:h.id)??"",mapel_group_id:((j=t==null?void 0:t.mapel_group)==null?void 0:j.id)??""}),d=()=>{o==="create"?p(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran"),B()},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}}):o==="edit"?_(route("mapel.update",t==null?void 0:t.id),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}}):o==="duplicate"&&p(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{a.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const i=Object.entries(r).map(([,s])=>s).join(", ");a.error(i)}})};return e.jsxs(D,{children:[e.jsx(E,{asChild:!0,children:k}),e.jsxs(I,{children:[e.jsxs(O,{children:[e.jsxs(V,{className:"capitalize",children:[o," Sheet title"]}),e.jsx(G,{children:"Sheet description"})]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),d()},className:"space-y-6 px-4",children:[e.jsx(c,{label:"Nama mata pelajaran",children:e.jsx(F,{placeholder:"Nama mata pelajaran",value:n.name,onChange:r=>l("name",r.target.value)})}),e.jsx(c,{label:"Description",children:e.jsx(z,{placeholder:"Nama mata pelajaran",value:n.description,onChange:r=>l("description",r.target.value)})}),e.jsx(c,{label:"Group mata pelajaran",action:e.jsx(A,{children:e.jsx("span",{className:"text-xs underline",children:"Atur data"})}),children:e.jsxs(x,{value:n.mapel_group_id.toString(),onValueChange:r=>l("mapel_group_id",r),children:[e.jsx(S,{children:e.jsx(g,{placeholder:"Filter data"})}),e.jsx(f,{children:v.map(r=>e.jsx(b,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(c,{label:"Tingkat kelas",children:e.jsxs(x,{value:n.tingkat_id.toString(),onValueChange:r=>l("tingkat_id",r),children:[e.jsx(S,{children:e.jsx(g,{placeholder:"Pilih tingkat / kelas"})}),e.jsx(f,{children:C.map(r=>e.jsx(b,{value:r.id.toString(),children:r.label},r.id))})]})})]}),e.jsxs(M,{children:[e.jsxs(u,{onClick:d,children:[e.jsx(H,{}),"Simpan"]}),e.jsx(y,{asChild:!0,children:e.jsxs(u,{variant:"outline",children:[e.jsx(J,{}),"Batal"]})})]})]})]})};export{_e as default};
