import{J as v,x as C,j as r}from"./app-gjtAn5El.js";import{D}from"./date-picker-KyMHwWmY.js";import{F as l}from"./form-control-C5DpwnMZ.js";import{B as S}from"./button-By04tjtr.js";import{C as c,a as h,d as u,e as x,b as j}from"./card-DKLrfEzB.js";import{I as n}from"./input-E0N1tJe0.js";import{S as k,a as N,b as y,c as I,d as Y}from"./select-DSe88Jj7.js";import{b as q}from"./enums-Cfr99xRN.js";import{f as i,e as T}from"./utils-DMfQtvov.js";import{t as g}from"./index-dz1GIDOc.js";import M from"./ppdb-layout-BDbhVI-f.js";import{A as E}from"./arrow-right-q4Ib1jgn.js";/* empty css            */import"./chevron-left-Dgqo9A73.js";import"./createLucideIcon-CZrFTrU_.js";import"./chevron-right-DA1hL8DA.js";import"./chevron-down-CEfrTvmX.js";import"./popover-CjkxC4vb.js";import"./index-DJU7MOx1.js";import"./index-C5BeI9rp.js";import"./index-DvkuFPqW.js";import"./index-Ds6vXjzw.js";import"./index-BGrkkWQn.js";import"./index-D2y8B7B1.js";import"./index-BCWsKhRR.js";import"./index-DB7pJufW.js";import"./index-C8i6XsBO.js";import"./label-CQT2szKQ.js";import"./index-B26Os_Ix.js";import"./index-BdQq_4o_.js";import"./index-DAJp9f9j.js";import"./index-CG6E1-pS.js";import"./index-MK6_u-ia.js";import"./index-CjpL7NZ4.js";import"./check-DMlgC_tD.js";import"./heading-B5hewX3j.js";import"./alert-DuNr3wu-.js";import"./use-page-props-Dys7tNtm.js";import"./section-container-BC8uoY0L.js";import"./welcome-layout-BsYCA8H4.js";import"./theme-toggler-B94cFpnA.js";import"./use-mobile-afvKzG1S.js";import"./sheet-D5JKOrEt.js";import"./index-CvsYew9q.js";import"./x-urWu1Yro.js";import"./scroll-area-0ziMWaFD.js";import"./app-logo-icon-B6rOIGf1.js";import"./dropdown-menu-BAeTQUvr.js";import"./sonner-s7mZx4gV.js";import"./guest-sidebar-BLg0OI4J.js";import"./menu-list-B8EbWtSY.js";import"./log-in-BN2fOTcX.js";import"./user-plus-Bl3UXJQZ.js";import"./landing-footer-CayxHgSx.js";import"./phone-DKhhyo1o.js";import"./welcome-nav-menu-APQRohrH.js";import"./wizard-trigger-97AvV8dd.js";import"./avatar-Bt3aX9bp.js";import"./index-LXLBVjJ3.js";import"./info-BGEqzP_g.js";const Je=({siswa:e})=>{var d;const{auth:b}=v().props,{data:o,setData:a,post:f,errors:m}=C({name:(e==null?void 0:e.name)||"",gender:(e==null?void 0:e.gender)||"",nisn:(e==null?void 0:e.nisn)||"",user_id:((d=b.user)==null?void 0:d.id)||null,nis:(e==null?void 0:e.nis)||"",dob:(e==null?void 0:e.dob)||i().subtract(7,"year").format("YYYY-MM-DD"),pob:(e==null?void 0:e.pob)||"",status:(e==null?void 0:e.status)||"ppdb",address:(e==null?void 0:e.address)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",register_year:(e==null?void 0:e.register_year)||i().year()}),p=()=>{const t=e?route("pendaftaran.store-edit",e==null?void 0:e.id):route("pendaftaran.store");f(t,{preserveScroll:!0,onSuccess:()=>g.success("Data calon peserta didik berhasil ditambahkan"),onError:s=>g.error(T(s))})};return r.jsxs(M,{active:"datadiri",guide:"isi nama lengkap siswa, jenis kelamin, tanggal lahir, tempat lahir, alamat, dan status pendaftaran",children:[r.jsxs(c,{children:[r.jsxs(h,{children:[r.jsx(u,{children:"Data calon peserta didik"}),r.jsx(x,{children:"Isi data calon peserta didik dengan benar dan lengkap."})]}),r.jsx(j,{children:r.jsxs("form",{className:"grid gap-6 md:grid-cols-2",onSubmit:t=>{t.preventDefault(),p()},children:[r.jsx(l,{label:"Nama lengkap siswa",required:!0,children:r.jsx(n,{placeholder:"Nama lengkap",value:o.name,onChange:t=>a("name",t.target.value),error:!!m.name})}),r.jsx(l,{label:"Jenis kelamin",required:!0,children:r.jsxs(k,{value:o.gender,onValueChange:t=>a("gender",t),children:[r.jsx(N,{children:r.jsx(y,{placeholder:"Pilih jenis kelamin"})}),r.jsx(I,{children:q.map(t=>r.jsx(Y,{value:t,children:t}))})]})}),r.jsx(l,{label:"NISN",required:!0,children:r.jsx(n,{placeholder:"NISN",value:o.nisn,onChange:t=>a("nisn",t.target.value)})}),r.jsx(l,{label:"NIS",required:!0,children:r.jsx(n,{placeholder:"NIS",value:o.nis,onChange:t=>a("nis",t.target.value)})}),r.jsx(l,{label:"Tempat lahir",required:!0,children:r.jsx(n,{placeholder:"Kota tempat lahir",value:o.pob,onChange:t=>a("pob",t.target.value)})}),r.jsx(l,{label:"Tanggal lahir",required:!0,children:r.jsx(D,{value:i(o.dob).toDate(),onValueChange:t=>a("dob",i(t).format("YYYY-MM-DD"))})})]})})]}),r.jsxs(c,{children:[r.jsxs(h,{children:[r.jsx(u,{children:"Data pribadi siswa"}),r.jsx(x,{children:"Isi nomor telepon dan email pribadi siswa."})]}),r.jsx(j,{children:r.jsxs("form",{className:"grid gap-6 md:grid-cols-2",onSubmit:t=>{t.preventDefault(),p()},children:[r.jsx(l,{label:"Nomor telepon pribadi",children:r.jsx(n,{placeholder:"+62xxx",value:o.phone,onChange:t=>a("phone",t.target.value),error:!!m.phone})}),r.jsx(l,{label:"Email pribadi",children:r.jsx(n,{type:"email",placeholder:"Email pribadi",value:o.email,onChange:t=>a("email",t.target.value),error:!!m.email})})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(S,{onClick:p,children:["Selanjutnya ",r.jsx(E,{})]})})]})};export{Je as default};
