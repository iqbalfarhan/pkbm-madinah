import{r as t,j as e,S as E}from"./app-gjtAn5El.js";import{F as r}from"./form-control-C5DpwnMZ.js";import{B as J}from"./button-By04tjtr.js";import{C as M,a as F,d as H,e as O,b as W}from"./card-DKLrfEzB.js";import{I as l}from"./input-E0N1tJe0.js";import{S as p,a as m,b as c,c as d,d as h}from"./select-DSe88Jj7.js";import{a as s}from"./enums-Cfr99xRN.js";import{e as q}from"./utils-DMfQtvov.js";import{t as w}from"./index-dz1GIDOc.js";import z from"./ppdb-layout-BDbhVI-f.js";import{A as G}from"./arrow-right-q4Ib1jgn.js";/* empty css            */import"./label-CQT2szKQ.js";import"./index-BGrkkWQn.js";import"./index-D2y8B7B1.js";import"./index-DvkuFPqW.js";import"./index-B26Os_Ix.js";import"./index-BdQq_4o_.js";import"./index-DJU7MOx1.js";import"./index-C5BeI9rp.js";import"./index-DAJp9f9j.js";import"./index-CG6E1-pS.js";import"./index-Ds6vXjzw.js";import"./index-BCWsKhRR.js";import"./index-DB7pJufW.js";import"./index-C8i6XsBO.js";import"./index-MK6_u-ia.js";import"./index-CjpL7NZ4.js";import"./chevron-down-CEfrTvmX.js";import"./createLucideIcon-CZrFTrU_.js";import"./check-DMlgC_tD.js";import"./heading-B5hewX3j.js";import"./alert-DuNr3wu-.js";import"./use-page-props-Dys7tNtm.js";import"./section-container-BC8uoY0L.js";import"./welcome-layout-BsYCA8H4.js";import"./theme-toggler-B94cFpnA.js";import"./use-mobile-afvKzG1S.js";import"./sheet-D5JKOrEt.js";import"./index-CvsYew9q.js";import"./x-urWu1Yro.js";import"./scroll-area-0ziMWaFD.js";import"./app-logo-icon-B6rOIGf1.js";import"./dropdown-menu-BAeTQUvr.js";import"./sonner-s7mZx4gV.js";import"./guest-sidebar-BLg0OI4J.js";import"./menu-list-B8EbWtSY.js";import"./log-in-BN2fOTcX.js";import"./user-plus-Bl3UXJQZ.js";import"./landing-footer-CayxHgSx.js";import"./phone-DKhhyo1o.js";import"./welcome-nav-menu-APQRohrH.js";import"./wizard-trigger-97AvV8dd.js";import"./avatar-Bt3aX9bp.js";import"./index-LXLBVjJ3.js";import"./info-BGEqzP_g.js";const Xa=({siswa:R})=>{const[u,T]=t.useState("Kalimantan Timur"),[j,g]=t.useState("Balikpapan"),[o,x]=t.useState(""),[k,i]=t.useState(""),[v,n]=t.useState(""),[S,A]=t.useState(""),[b,y]=t.useState(""),[f,L]=t.useState(""),N=[...new Set(s.map(a=>a.provinsi))],V=[...new Set(s.filter(a=>a.provinsi===u).map(a=>a.kabupaten))],D=[...new Set(s.filter(a=>a.kabupaten===j).map(a=>a.kecamatan))],I=[...new Set(s.filter(a=>a.kecamatan===o).map(a=>a.kelurahan))],B=a=>{i(a);const K=s.find(P=>P.kelurahan===a&&P.kecamatan===o);K&&n(K.kodepos)},C=()=>{E.post(route("pendaftaran.store-alamat",R.id),{provinsi:u,kabupaten:j,kecamatan:o,kelurahan:k,jalan:S,rt:b,rw:f,kodepos:v},{preserveScroll:!0,onSuccess:()=>w.success("Alamat berhasil disimpan!"),onError:a=>w.error(q(a))})};return e.jsxs(z,{active:"alamat",guide:"Isi alamat tempat tinggal calon peserta didik. Kota, kecamatan, dan kelurahan akan otomatis tersaring berdasarkan provinsi yang dipilih.",children:[e.jsxs(M,{children:[e.jsxs(F,{children:[e.jsx(H,{children:"Alamat Tempat Tinggal"}),e.jsx(O,{children:"Alamat tempat tinggal calon peserta didik."})]}),e.jsx(W,{children:e.jsxs("form",{className:"grid gap-6 md:grid-cols-2",onSubmit:a=>{a.preventDefault(),C()},children:[e.jsx(r,{label:"Provinsi",children:e.jsxs(p,{value:u,onValueChange:a=>{T(a),g(""),x(""),i(""),n("")},children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Pilih provinsi"})}),e.jsx(d,{children:N.map(a=>e.jsx(h,{value:a,children:a},a))})]})}),e.jsx(r,{label:"Kabupaten / Kota",children:e.jsxs(p,{value:j,onValueChange:a=>{g(a),x(""),i(""),n("")},children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Pilih kabupaten / kota"})}),e.jsx(d,{children:V.map(a=>e.jsx(h,{value:a,children:a},a))})]})}),e.jsx(r,{label:"Kecamatan",children:e.jsxs(p,{value:o,onValueChange:a=>{x(a),i(""),n("")},children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Pilih kecamatan"})}),e.jsx(d,{children:D.map(a=>e.jsx(h,{value:a,children:a},a))})]})}),e.jsx(r,{label:"Kelurahan",children:e.jsxs(p,{value:k,onValueChange:B,children:[e.jsx(m,{children:e.jsx(c,{placeholder:"Pilih kelurahan"})}),e.jsx(d,{children:I.map(a=>e.jsx(h,{value:a,children:a},a))})]})}),e.jsx(r,{label:"Jalan / Perumahan & No. Rumah",children:e.jsx(l,{placeholder:"Contoh: Jl. Durian No. 88",value:S,onChange:a=>A(a.target.value)})}),e.jsx(r,{label:"RT",children:e.jsx(l,{placeholder:"Misal: 01",value:b,onChange:a=>y(a.target.value)})}),e.jsx(r,{label:"RW",children:e.jsx(l,{placeholder:"Misal: 04",value:f,onChange:a=>L(a.target.value)})}),e.jsx(r,{label:"Kode Pos",children:e.jsx(l,{placeholder:"Kode Pos",value:v,readOnly:!0})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(J,{onClick:C,children:["Selanjutnya ",e.jsx(G,{className:"ml-2"})]})})]})};export{Xa as default};
