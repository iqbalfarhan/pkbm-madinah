import{J as F,x as D,j as e}from"./app-qFQhIPfj.js";import{F as l}from"./form-control-C43Fa-8h.js";import{A as E,a as I}from"./avatar-DzjzHRvY.js";import{B as b}from"./button-Dc30JDkx.js";import{I as V}from"./input-W-BD1H4k.js";import{S as h,a as m,b as j,c as p,d as u}from"./select-xJOaQnvF.js";import{S as A,a as O,b as P,c as z,d as y,e as G,f as H,g as J}from"./sheet-BU1J2_RC.js";import{T as M}from"./textarea-Dr0JylqD.js";import{t}from"./index-CRIJ3ENp.js";import{C as R}from"./check-Bqw54lYF.js";import{X}from"./index-wTJl5XWM.js";/* empty css            */import"./utils-BWBJ8K_1.js";import"./label-CQRcOpoQ.js";import"./index-Bw8SDI74.js";import"./index-BT5rsthy.js";import"./index-C1e09cZr.js";import"./index-Dc6I8uLB.js";import"./index-B2E_XwLa.js";import"./index-Bb1vPB25.js";import"./index-D6sT7W7n.js";import"./index-Ba1dsq3f.js";import"./index-D2VxnTDL.js";import"./index-scJcWkm4.js";import"./index-DbUswL3C.js";import"./createLucideIcon-DbXaSBQE.js";const xe=({children:C,mapel:a,purpose:c})=>{var S,f,v;const d=F().props,k=d.mapelGroups??[],_=d.tingkats??[],B=d.gurus??[],{data:s,setData:i,put:N,post:x,reset:T}=D({name:(a==null?void 0:a.name)??"",description:(a==null?void 0:a.description)??"",guru_id:((S=a==null?void 0:a.guru)==null?void 0:S.id)??"",tingkat_id:((f=a==null?void 0:a.tingkat)==null?void 0:f.id)??"",mapel_group_id:((v=a==null?void 0:a.mapel_group)==null?void 0:v.id)??""}),g=()=>{c==="create"?x(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{t.success("Berhasil menambahkan mata pelajaran"),T()},onError:r=>{const n=Object.entries(r).map(([,o])=>o).join(", ");t.error(n)}}):c==="edit"?N(route("mapel.update",a==null?void 0:a.id),{preserveScroll:!0,onSuccess:()=>{t.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const n=Object.entries(r).map(([,o])=>o).join(", ");t.error(n)}}):c==="duplicate"&&x(route("mapel.store"),{preserveScroll:!0,onSuccess:()=>{t.success("Berhasil menambahkan mata pelajaran")},onError:r=>{const n=Object.entries(r).map(([,o])=>o).join(", ");t.error(n)}})};return e.jsxs(A,{children:[e.jsx(O,{asChild:!0,children:C}),e.jsxs(P,{children:[e.jsxs(z,{children:[e.jsxs(y,{className:"capitalize",children:[c," Sheet title"]}),e.jsx(G,{children:"Sheet description"})]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),g()},className:"space-y-6 px-4",children:[e.jsx(l,{label:"Nama mata pelajaran",children:e.jsx(V,{placeholder:"Nama mata pelajaran",value:s.name,onChange:r=>i("name",r.target.value)})}),e.jsx(l,{label:"Description",children:e.jsx(M,{placeholder:"Nama mata pelajaran",value:s.description,onChange:r=>i("description",r.target.value)})}),e.jsx(l,{label:"Group mata pelajaran",children:e.jsxs(h,{value:s.mapel_group_id.toString(),onValueChange:r=>i("mapel_group_id",r),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Filter data"})}),e.jsx(p,{children:k.map(r=>e.jsx(u,{value:r.id.toString(),children:r.name},r.id))})]})}),e.jsx(l,{label:"Tingkat kelas",children:e.jsxs(h,{value:s.tingkat_id.toString(),onValueChange:r=>i("tingkat_id",r),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Pilih tingkat / kelas"})}),e.jsx(p,{children:_.map(r=>e.jsx(u,{value:r.id.toString(),children:r.label},r.id))})]})}),e.jsx(l,{label:"Pengajar",children:e.jsxs(h,{value:s.guru_id.toString(),onValueChange:r=>i("guru_id",r),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Pilih pengajar"})}),e.jsx(p,{children:B.map(r=>e.jsxs(u,{value:r.id.toString(),children:[e.jsx(E,{className:"size-6",children:e.jsx(I,{src:r.avatar})}),r.name]},r.id))})]})})]}),e.jsxs(H,{children:[e.jsxs(b,{onClick:g,children:[e.jsx(R,{}),"Simpan"]}),e.jsx(J,{asChild:!0,children:e.jsxs(b,{variant:"outline",children:[e.jsx(X,{}),"Batal"]})})]})]})]})};export{xe as default};
