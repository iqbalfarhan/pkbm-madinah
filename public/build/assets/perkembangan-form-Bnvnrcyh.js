import{r as d,x as V,j as e}from"./app-DpfdW_r7.js";import{B as A}from"./button-DTT2fkdQ.js";import{b as y,C as v,d as R,a as C,c as M}from"./card-CHA020O5.js";import{C as P}from"./checkbox-DOw6s7Kg.js";import{S as Q}from"./separator--KBazRuo.js";import{T as B,a as L,b,e as a,d as F,c as o}from"./table-BAlc14Fx.js";import{T as $}from"./textarea-nH1vs3LU.js";import{A as X}from"./app-layout-Cq5dHlQf.js";import{a as Y,E as ee}from"./mockup-data-ByM-yVw5.js";import{e as re}from"./utils-CuXvM_eT.js";import{t as q}from"./index-B-v_Mcin.js";import{C as ne}from"./check-Qol8Cez_.js";/* empty css            */import"./index-Bn78W0G-.js";import"./index-mHq7RGbL.js";import"./index-Brdl_M0l.js";import"./index-D9IwJIAp.js";import"./index-DGwOj2gT.js";import"./index-CAPfhsIC.js";import"./index-BUbDSQ73.js";import"./index-NApHEZtM.js";import"./heading-C4yjbGcH.js";import"./sonner-0KgaSfDc.js";import"./theme-toggler-BqCSg1BF.js";import"./use-mobile-2vCoIvR7.js";import"./input-BS3ehIaV.js";import"./sheet-C-XpxoHV.js";import"./index-q-qQhBSK.js";import"./index-C7d_I9YW.js";import"./index-Cs2VM941.js";import"./x-C3M5dEuO.js";import"./createLucideIcon-abM9t_Dn.js";import"./index-IJoEPwWj.js";import"./index-C91Jes3I.js";import"./scroll-area-CoJ17A8p.js";import"./index-Co76VJT-.js";import"./index-BdQq_4o_.js";import"./use-page-props-DTWtzoxv.js";import"./app-logo-icon-BEcDBf9R.js";import"./dropdown-menu-DWcDuiNs.js";import"./index-BWg45J-h.js";import"./use-can-BWiZj679.js";import"./avatar-BmS3oxRd.js";import"./index-eCN9uh3H.js";import"./user-plus-gpBx4cAG.js";import"./folder-ClgR4eJH.js";import"./chevron-right-BbmPEhFC.js";import"./tahun-ajaran-list-dialog-BDwNG33G.js";import"./dialog-v1EtXj0r.js";import"./tahun-ajaran-form-sheet-BXcFtP19.js";import"./form-control-D1mjSVkY.js";import"./label-CwNgEzzR.js";import"./select-LnSn0gPA.js";import"./chevron-down-CBu8Xe3p.js";import"./square-pen-CuKycSN7.js";import"./trash-2-BsUn5BQh.js";import"./plus-C99iL4NZ.js";function ae(i,s,u,E){var T=this,m=d.useRef(null),p=d.useRef(0),w=d.useRef(0),c=d.useRef(null),j=d.useRef([]),k=d.useRef(),f=d.useRef(),I=d.useRef(i),r=d.useRef(!0);I.current=i;var n=typeof window<"u",h=!s&&s!==0&&n;if(typeof i!="function")throw new TypeError("Expected a function");s=+s||0;var x=!!(u=u||{}).leading,g=!("trailing"in u)||!!u.trailing,N="maxWait"in u,z="debounceOnServer"in u&&!!u.debounceOnServer,U=N?Math.max(+u.maxWait||0,s):null;d.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]);var Z=d.useMemo(function(){var H=function(t){var l=j.current,K=k.current;return j.current=k.current=null,p.current=t,w.current=w.current||t,f.current=I.current.apply(K,l)},D=function(t,l){h&&cancelAnimationFrame(c.current),c.current=h?requestAnimationFrame(t):setTimeout(t,l)},W=function(t){if(!r.current)return!1;var l=t-m.current;return!m.current||l>=s||l<0||N&&t-p.current>=U},J=function(t){return c.current=null,g&&j.current?H(t):(j.current=k.current=null,f.current)},O=function t(){var l=Date.now();if(x&&w.current===p.current&&_(),W(l))return J(l);if(r.current){var K=s-(l-m.current),G=N?Math.min(K,U-(l-p.current)):K;D(t,G)}},_=function(){},S=function(){if(n||z){var t=Date.now(),l=W(t);if(j.current=[].slice.call(arguments),k.current=T,m.current=t,l){if(!c.current&&r.current)return p.current=m.current,D(O,s),x?H(m.current):f.current;if(N)return D(O,s),H(m.current)}return c.current||D(O,s),f.current}};return S.cancel=function(){c.current&&(h?cancelAnimationFrame(c.current):clearTimeout(c.current)),p.current=0,j.current=m.current=k.current=c.current=null},S.isPending=function(){return!!c.current},S.flush=function(){return c.current?J(Date.now()):f.current},S},[x,N,s,U,g,h,n,z,E]);return Z}const cr=({rapor:i})=>{var c,j,k,f,I;const s=i.siswa,u=i.tahunajaran,{data:E,setData:T,put:m}=V({siswa_id:i.siswa.id,jenis:i.jenis,tahunajaran_id:i.tahunajaran.id,data:i.data??Y}),p=ae((r,n,h)=>{const x={...E};x.data[r].points[n].description=h,T(x)},300),w=d.useCallback(()=>{m(route("rapor.update",i.id),{preserveScroll:!0,onSuccess:()=>{q.success("Rapor berhasil disimpan")},onError:r=>q.error(re(r))})},[m,i.id]);return d.useEffect(()=>{const r=n=>{(n.ctrlKey||n.metaKey)&&n.key==="s"&&(n.preventDefault(),w())};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[w]),e.jsx(X,{title:"Rapor Perkembangan",description:`${(c=i.siswa)==null?void 0:c.name} kelas ${(j=i.siswa.kelas)==null?void 0:j.name} tahun ajaran ${(k=i.tahunajaran)==null?void 0:k.name}`,actions:e.jsxs(e.Fragment,{children:[e.jsx(A,{asChild:!0,children:e.jsxs("a",{href:route("rapor.stream",i.id),children:[e.jsx(ee,{}),"Preview PDF"]})}),e.jsxs(A,{onClick:w,className:"fixed right-6 bottom-6",children:[e.jsx(ne,{}),"Simpan"]})]}),children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6",children:[e.jsxs(y,{className:"text-center text-3xl uppercase",children:["LAPORAN PERKEMBANGAN SISWA PKBM AL-MADINAH SEMESTER ",u.semester," TAHUN AJARAN ",u.name]}),e.jsx(v,{children:e.jsx(R,{children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("dt",{className:"w-1/3",children:"Nama siswa"}),e.jsx("dd",{className:"w-2/3",children:s.name})]}),e.jsxs("div",{className:"flex",children:[e.jsx("dt",{className:"w-1/3",children:"Kelas"}),e.jsx("dd",{className:"w-2/3",children:(f=s.kelas)==null?void 0:f.name})]}),e.jsxs("div",{className:"flex",children:[e.jsx("dt",{className:"w-1/3",children:"Usia"}),e.jsx("dd",{className:"w-2/3",children:s.umur??""})]}),e.jsxs("div",{className:"flex",children:[e.jsx("dt",{className:"w-1/3",children:"NIS/NISN"}),e.jsx("dd",{className:"w-2/3",children:s.nisn})]})]})})}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"CURRICULAR DOMAIN"}),E.data.map((r,n)=>e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(y,{children:r.name}),e.jsx(M,{children:r.goal})]}),e.jsx(Q,{}),e.jsx(R,{children:e.jsxs(B,{children:[e.jsx(L,{children:e.jsxs(b,{children:[e.jsx(a,{className:"text-center",children:"Fokus Perkembangan"}),e.jsx(a,{className:"w-xl text-center",children:"Perkembangan anak"}),e.jsx(a,{className:"w-[50px] text-center",children:"A"}),e.jsx(a,{className:"w-[50px] text-center",children:"B"}),e.jsx(a,{className:"w-[50px] text-center",children:"C"})]})}),e.jsx(F,{children:r.points.map((h,x)=>e.jsxs(b,{children:[e.jsx(a,{children:e.jsx("div",{className:"text-wrap",children:h.name})}),e.jsx(a,{children:e.jsx($,{placeholder:"Tulis deskripsi disini...",className:"min-h-20",defaultValue:h.description,onChange:g=>p(n,x,g.target.value)})}),["A","B","C"].map(g=>e.jsx(a,{children:e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>{const N={...E};N.data[n].points[x].mark=g,T(N)},children:e.jsx(P,{checked:h.mark===g})})},g))]},x))})]})})]},n)),e.jsx("h2",{className:"text-center text-xl font-bold",children:"18 SIKAP"}),e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(y,{children:"4 dari 18 Sikap yang dibangun di Sekolah Al – Madinah."}),e.jsxs(M,{children:[e.jsx("li",{children:"I (membutuhkan motivasi)"}),e.jsx("li",{children:"II (menunjukkan perbaikan)"}),e.jsx("li",{children:"III (memiliki kompetensi)"})]})]}),e.jsx(R,{children:e.jsxs(B,{children:[e.jsx(L,{children:e.jsxs(b,{children:[e.jsx(o,{children:"No."}),e.jsx(o,{className:"w-full",children:"Sikap yang dikembangkan"}),e.jsx(o,{className:"text-center",children:"I"}),e.jsx(o,{className:"text-center",children:"II"}),e.jsx(o,{className:"text-center",children:"III"})]})}),e.jsx(F,{children:["Istiqomah","Rendah Diri","Berpikir Positif","Mutu"].map((r,n)=>e.jsxs(b,{children:[e.jsxs(a,{children:[n+1,"."]}),e.jsx(a,{children:r}),e.jsx(a,{children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(P,{})})}),e.jsx(a,{children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(P,{})})}),e.jsx(a,{children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(P,{checked:!0})})})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"EKSTRAKULIKULER"}),e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(y,{children:"Ekstrakulikuler"}),e.jsx(M,{children:"Ekstarkulukuler dan kegiatan yang diikuti siswa"})]}),e.jsx(R,{children:e.jsxs(B,{children:[e.jsx(L,{children:e.jsxs(b,{children:[e.jsx(o,{children:"No."}),e.jsx(o,{children:"Jenis Ekstrakurikuler"}),e.jsx(o,{children:"Kegiatan yang pernah Diikuti"})]})}),e.jsx(F,{children:(I=s.ekskuls)==null?void 0:I.map((r,n)=>e.jsxs(b,{children:[e.jsxs(a,{children:[n+1,"."]}),e.jsx(a,{children:r.name}),e.jsx(a,{children:r.kegiatan})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KETIDAKHADIRAN"}),e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(y,{children:"Ekstrakulikuler"}),e.jsx(M,{children:"Ekstarkulukuler dan kegiatan yang diikuti siswa"})]}),e.jsx(R,{children:e.jsxs(B,{children:[e.jsx(L,{children:e.jsxs(b,{children:[e.jsx(o,{children:"No."}),e.jsx(o,{children:"Jenis Ekstrakurikuler"}),e.jsx(o,{children:"Kegiatan yang pernah Diikuti"})]})}),e.jsx(F,{children:["Renang","Memanah"].map((r,n)=>e.jsxs(b,{children:[e.jsxs(a,{children:[n+1,"."]}),e.jsx(a,{children:r}),e.jsx(a,{})]}))})]})})]}),e.jsx("h2",{className:"text-center text-xl font-bold",children:"KOMENTAR"}),e.jsxs(v,{children:[e.jsx(C,{children:e.jsx(y,{children:"Komentar guru"})}),e.jsx(R,{children:e.jsx($,{children:"Alhamdulillaah, Ananda Zuhdi sudah mampu menerapkan beberapa sikap dari 18 sikap yang telah ada, yaitu sabar menunggu giliran ketika akan recalling, fokus dan tuntas dalam mengerjakan pekerjaan yang telah diberikan oleh Bapak/Ibu guru. Disiplin, jujur, bersih, sayang teman, dan rajin mengikuti pelajaran di sekolah, ###Ikhlas menerima apapun yang didapatkannya. Serta ramah dan sering tersenyum kepada Bapak/Ibu guru serta teman-teman di sekolah. Ananda mampu menjelaskan kembali materi yang telah diberikan serta bertanggung jawab atas tugas yang telah diberikan oleh Bapak/Ibu guru di sekolah. Tetap muroja’ah di rumah, menjadi anak yang rendah hati, menghormati dan berbakti kepada orang tua dan semoga ananda Zuhdi menjadi anak yang sholeh. Aamiin."})})]})]})})};export{cr as default};
