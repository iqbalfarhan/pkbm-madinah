import{j as e,J as p,t as l,r as f,S as w,Q as M}from"./app-gjtAn5El.js";import{H as C}from"./heading-B5hewX3j.js";import{T as S}from"./sonner-s7mZx4gV.js";import{S as A,a as P,b as D,c as L,d as j,e as y,f as b,u as B,N as $,g as U,h as I,A as z,i as T,j as H,k as q,T as R}from"./theme-toggler-B94cFpnA.js";import{e as F}from"./use-can-BGZed4-P.js";import{u as O}from"./use-page-props-Dys7tNtm.js";import{c as d}from"./utils-DMfQtvov.js";import{D as V,a as g,b as G,c as u,d as E,e as K,f as Q}from"./dropdown-menu-BAeTQUvr.js";import{A as J,a as Z,b as W}from"./avatar-Bt3aX9bp.js";import{c as t}from"./createLucideIcon-CZrFTrU_.js";import{u as X}from"./use-mobile-afvKzG1S.js";import{U as Y}from"./user-plus-Bl3UXJQZ.js";import{F as ee}from"./folder-VfI3PMER.js";import{S as ae}from"./index-DvkuFPqW.js";import{C as se}from"./chevron-right-DA1hL8DA.js";import re from"./tahun-ajaran-list-dialog-DsZFGrkY.js";import{B as v}from"./button-By04tjtr.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ne=t("BookOpen",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],x=t("Book",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],le=t("Calendar",oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],de=t("ChevronsUpDown",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],he=t("CircleUserRound",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ue=t("Database",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ke=t("Key",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],je=t("LayoutGrid",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],be=t("List",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ve=t("LogOut",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],N=t("PartyPopper",Ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k=t("Settings",_e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Me=t("Target",we);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Se=t("TriangleAlert",Ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Pe=t("UserCog",Ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Le=t("UsersRound",De);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],$e=t("Users",Be);function Ue({variant:s="header",children:a,...r}){return s==="sidebar"?e.jsx(A,{...r,children:a}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...r,children:a})}function Ie({children:s,variant:a="header"}){const r=p().props.sidebarOpen;return a==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:s}):e.jsx(P,{defaultOpen:r,children:s})}function h({items:s=[],label:a,className:r,showIf:i}){const{permissions:o}=O().auth;if(i===!1)return null;const c=s.map(n=>n.permission_name).filter(n=>!!n);return c.length===0||c.some(n=>o.includes(n))?e.jsxs(D,{className:d(r),children:[a&&e.jsx(L,{children:a}),e.jsx(j,{children:s.map(n=>n.permission_name&&F(o,n.permission_name)?e.jsx(y,{children:e.jsx(b,{asChild:!0,isActive:n.isActive,tooltip:{children:n.title},children:e.jsxs(l,{href:n.href,preserveScroll:!0,children:[n.icon&&e.jsx(n.icon,{}),e.jsx("span",{children:n.title})]})})},n.title):null)})]}):null}function ze(){return f.useCallback(s=>{const a=s.trim().split(" ");if(a.length===0)return"";if(a.length===1)return a[0].charAt(0).toUpperCase();const r=a[0].charAt(0),i=a[a.length-1].charAt(0);return`${r}${i}`.toUpperCase()},[])}function _({user:s,showEmail:a=!1}){const r=ze();return e.jsxs(e.Fragment,{children:[e.jsxs(J,{className:"h-8 w-8 overflow-hidden rounded-full",children:[e.jsx(Z,{src:s.avatar,alt:s.name}),e.jsx(W,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:r(s.name)})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:s.name}),a&&e.jsx("span",{className:"truncate text-xs text-muted-foreground",children:s.email})]})]})}function Te(){return f.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function He({user:s}){const a=Te(),r=()=>{a(),w.flushAll()};return e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"p-0 font-normal",children:e.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:e.jsx(_,{user:s,showEmail:!0})})}),e.jsx(g,{}),e.jsxs(G,{children:[e.jsx(u,{asChild:!0,children:e.jsxs(l,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:a,children:[e.jsx(k,{className:"mr-2"}),"Update Profile"]})}),e.jsx(u,{asChild:!0,children:e.jsxs(l,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:a,children:[e.jsx(k,{className:"mr-2"}),"Pengaturan sekolah"]})})]}),e.jsx(g,{}),e.jsx(u,{asChild:!0,children:e.jsxs(l,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:r,children:[e.jsx(ve,{className:"mr-2"}),"Log out"]})})]})}function qe(){const{auth:s}=p().props,{state:a}=B(),r=X();return e.jsx(j,{children:e.jsx(y,{children:e.jsxs(E,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(b,{size:"lg",className:"group data-[state=open]:bg-sidebar-accent",children:[e.jsx(_,{user:s.user}),e.jsx(de,{className:"ml-auto size-4"})]})}),e.jsx(Q,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:r?"bottom":a==="collapsed"?"left":"bottom",children:e.jsx(He,{user:s.user})})]})})})}function Re(){const{roles:s,kelas:a}=p().props.auth,r=[{title:"Dashboard",href:route("dashboard"),icon:je,permission_name:"dashboard"},{title:"Buku panduan",href:route("dokumentasi"),icon:ne,permission_name:"documentation"},{title:"Rapor siswa",href:route("rapor.index"),icon:x,permission_name:"menampilkan list rapor"},{title:"Kegiatan sekolah",href:route("berita.index"),icon:$,permission_name:"menampilkan list berita"},{title:"Riwayat Pembayaran",href:route("pembayaran.index"),icon:N,permission_name:"menampilkan list berita"},{title:"Pembayaran",href:route("pembayaran.index"),icon:N,permission_name:"menampilkan list berita"}],i=[{title:"Pendaftaran siswa",href:route("ppdb.create"),icon:Y,permission_name:"menambahkan ppdb baru"},{title:"Pengaturan PPDB",href:route("ppdb.index"),icon:Pe,permission_name:"menampilkan list ppdb"}],o=[{title:"Pengaturan kelas",href:route("kelas.index"),icon:be,permission_name:"menampilkan list kelas"},{title:"Mata pelajaran",href:route("mapel.index"),icon:x,permission_name:"menampilkan list mata pelajaran"},{title:"Sesi pelajaran",href:route("pelajaran.index"),icon:x,permission_name:"menampilkan list mata pelajaran"},{title:"Ekstrakulikuler",href:route("ekskul.index"),icon:Me,permission_name:"menampilkan list ekskul"},{title:"Data Pengguna",href:route("user.index"),icon:$e,permission_name:"menampilkan list user"},{title:"Tenaga pendidik",href:route("guru.index"),icon:Le,permission_name:"menampilkan list guru"},{title:"Data Siswa",href:route("siswa.index"),icon:he,permission_name:"menampilkan list siswa"}],c=[{title:"Role & permissions",href:route("role.index"),icon:ke,permission_name:"mengatur role permission"},{title:"Adminer database",href:"/adminer",icon:ue,permission_name:"membuka database"},{title:"Pengaturan aplikasi",href:route("settings.index"),icon:k,permission_name:"edit sekolah"}];return e.jsxs(U,{collapsible:"icon",variant:"sidebar",children:[e.jsx(I,{children:e.jsx(j,{children:e.jsx(y,{children:e.jsx(b,{size:"lg",asChild:!0,children:e.jsx(l,{href:"/dashboard",prefetch:!0,children:e.jsx(z,{})})})})})}),e.jsxs(T,{children:[e.jsx(h,{items:r,label:"Dashboard"}),e.jsx(h,{items:a==null?void 0:a.map(m=>({title:`Peng. ${m.name}`,href:route("kelas.show",m.id),icon:ee,permission_name:"menampilkan detail kelas"})),label:"Menu walikelas",showIf:s.includes("walikelas")}),e.jsx(h,{items:o,label:"Master Data"}),e.jsx(h,{items:i,label:"PPDB"}),e.jsx(h,{items:c,label:"Menu Superadmin"})]}),e.jsx(H,{children:e.jsx(qe,{})})]})}function Fe({...s}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...s})}function Oe({className:s,...a}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:d("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",s),...a})}function Ve({className:s,...a}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:d("inline-flex items-center gap-1.5",s),...a})}function Ge({asChild:s,className:a,...r}){const i=s?ae:"a";return e.jsx(i,{"data-slot":"breadcrumb-link",className:d("hover:text-foreground transition-colors",a),...r})}function Ee({className:s,...a}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:d("text-foreground font-normal",s),...a})}function Ke({children:s,className:a,...r}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:d("[&>svg]:size-3.5",a),...r,children:s??e.jsx(se,{})})}function Qe({breadcrumbs:s}){return e.jsx(e.Fragment,{children:s.length>0&&e.jsx(Fe,{children:e.jsx(Oe,{children:s.map((a,r)=>{const i=r===s.length-1;return e.jsxs(f.Fragment,{children:[e.jsx(Ve,{children:i?e.jsx(Ee,{children:a.title}):e.jsx(Ge,{asChild:!0,children:e.jsx(l,{href:a.href,children:a.title})})}),!i&&e.jsx(Ke,{})]},r)})})})})}function Je({breadcrumbs:s=[]}){const{active_ta:a}=p().props;return e.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between gap-2 border-b border-border bg-sidebar px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx(q,{className:"-ml-1"}),e.jsx(Qe,{breadcrumbs:s})]}),e.jsx(R,{}),e.jsx("div",{className:"hidden items-center gap-2 md:flex",children:a?e.jsx(re,{children:e.jsxs(v,{variant:"outline",children:[e.jsx(le,{}),"TA ",a.name," ",a.semester]})}):e.jsx(v,{variant:"destructive",asChild:!0,children:e.jsxs(l,{href:route("tahunajaran.index"),children:[e.jsx(Se,{}),"Belum ada tahun ajaran aktif"]})})})]})}function Ze({children:s,breadcrumbs:a=[]}){return e.jsxs(Ie,{variant:"sidebar",children:[e.jsx(Re,{}),e.jsxs(Ue,{variant:"sidebar",children:[e.jsx(Je,{breadcrumbs:a}),s]})]})}const xa=({children:s,breadcrumbs:a=[{title:"Dashboard",href:route("dashboard")}],title:r="Page title",description:i="Page title description",actions:o,withHeading:c=!0,...m})=>e.jsxs(Ze,{breadcrumbs:a,...m,children:[e.jsx(M,{title:r}),e.jsxs("div",{className:"space-y-6 p-6",children:[c&&e.jsxs("div",{className:"flex flex-col items-start justify-between md:flex-row",children:[e.jsx(C,{title:r,description:i}),o&&e.jsx("div",{className:"flex items-center space-x-2",children:o})]}),s]}),e.jsx(S,{position:"top-center"})]});export{xa as A,x as B,ke as K,k as S,Me as T,ne as a};
